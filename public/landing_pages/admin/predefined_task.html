<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Predefined Tasks</title>
    <link rel="stylesheet" href="predefined_task.css">
</head>

<body>

    <button id="open-add-task-modal">Add New Task</button>
    <button id="open-assign-task-modal">Assign Tasks to Crop Type</button> <!-- Button for assigning tasks -->

    <h2>Default Task</h2>
    <ul id="task-list"></ul>

    <!-- Add Task Modal -->
    <div id="add-task-modal" class="modal">
        <div class="modal-content">
            <span id="close-add-task-modal" class="close-btn">&times;</span>
            <h2>Add New Task</h2>
            <input type="text" id="new-task-input" placeholder="Type a task name">
            <button id="add-task-btn">Add task</button>
            <ul id="new-task-list"></ul>
            <button id="save-tasks-btn" disabled>Save Changes</button>
        </div>
    </div>

    <!-- Edit Task Modal -->
    <div id="edit-task-modal" class="modal">
        <div class="modal-content">
            <span id="close-edit-task-modal" class="close-btn">&times;</span>
            <h2>Edit Task</h2>
            <ul id="subtask-list"></ul>
            <input type="text" id="new-subtask-input" placeholder="Type a subtask name">
            <button id="add-subtask-btn">Add Subtask</button>
            <button id="save-subtasks-btn">Save Changes</button>
        </div>
    </div>

    <div id="duplicate-task-modal" class="modal">
        <div class="modal-content">
            <h2>Task Already Exists</h2>
            <p id="duplicate-task-message"></p>
            <button id="close-duplicate-task-modal">Okay</button>
        </div>
    </div>

    <!-- Delete Confirmation Modal -->
    <div id="delete-confirmation-modal" class="modal">
        <div class="modal-content">
            <h2>Are you sure you want to delete this task?</h2>
            <button id="confirm-delete-btn">Yes, delete</button>
            <button id="cancel-delete-btn">Cancel</button>
        </div>
    </div>

    <!-- No Changes Warning Modal -->
    <div id="no-changes-modal" class="modal">
        <div class="modal-content">
            <h2>No Changes Made</h2>
            <p>No new tasks or modifications were detected.</p>
            <button id="close-no-changes-modal">Okay</button>
        </div>
    </div>

    <!-- Assign Task to Crop Type Modal -->
    <div id="assign-task-modal" class="modal">
        <div class="modal-content">
            <span id="close-assign-task-modal" class="close-btn">&times;</span>
            <h2>Assign Tasks to Crop Type</h2>

            <label for="crop-type-select">Select Crop Type</label>
            <select id="crop-type-select">
                <option value="">Select a crop type</option>
                <!-- Crop types will be loaded dynamically -->
            </select>

            <h3>Select Tasks</h3>
            <div id="task-checkboxes">
                <!-- Default tasks will be loaded dynamically as checkboxes -->
            </div>

            <button id="assign-tasks-btn">Assign Tasks</button>
        </div>
    </div>

    <h2>Assigned Tasks</h2>
    <table>
        <thead>
            <tr>
                <th>Task ID</th> <!-- New column for Task ID -->
                <th>Crop Type</th>
                <th>Task Name</th>
                <th>Assigned On</th>
                <th>Actions</th>
            </tr>
        </thead>
        <tbody id="assigned-tasks-table-body">
            <!-- Task rows will be populated here -->
        </tbody>
    </table>


    <!-- Edit Subtasks Modal -->
    <div id="edit-subtasks-modal" class="modal">
        <div class="modal-content">
            <span class="close" id="close-edit-subtasks-modal">&times;</span>
            <h2>Edit Subtask</h2>
            <p id="edit-task-name-display"></p>

            <!-- Subtask List -->
            <ul id="subtask-list-subtasks"></ul>

            <!-- Subtask Input and Button -->
            <div class="subtask-container">
                <input type="text" id="new-subtask-input-subtasks" placeholder="Enter subtask..." />
                <button id="add-subtask-btn-subtasks">Add Subtask</button>
            </div>

            <button id="save-subtasks-btn-subtasks" disabled>Save Changes</button>
        </div>
    </div>


    <script type="module" src="predefined_task.js"></script>

</body>

</html>